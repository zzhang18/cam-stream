(this["webpackJsonpcam-stream"]=this["webpackJsonpcam-stream"]||[]).push([[0],{166:function(e,t,n){},167:function(e,t,n){},309:function(e,t,n){"use strict";n.r(t);var r=n(22),a=n(0),i=n.n(a),s=n(26),c=n.n(s),o=(n(166),n.p,n(167),n(20)),u=n.n(o),d=n(37),l=n(130),h=n(101),f=n(159),p=n(155),v=n(313),y=n(312),g=n(314),m=n(90),x=n.n(m),j=n(57),b=n.n(j);n(185),v.a.Search;var w,k=(w=function(e){return Object(r.jsxs)("div",{style:{padding:40},children:[Object(r.jsxs)("div",{style:{marginBottom:20},children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Cam View"})}),Object(r.jsx)("div",{style:{float:"left"}})]}),Object(r.jsx)("h2",{style:{float:"left"},children:"Cam List"}),Object(r.jsx)(y.a,{dataSource:e.channels,columns:[{title:"Channel",dataIndex:"Channel",key:"Channel",width:200,sorter:function(e,t){return e.name>t.name}},{title:"Name",dataIndex:"Name",key:"Name",width:160,sorter:function(e,t){return e.mobile-t.mobile}},{title:"DeviceType",dataIndex:"DeviceType",key:"DeviceType",width:160},{title:"SourceVideoCodecName",dataIndex:"SourceVideoCodecName",key:"SourceVideoCodecName",width:160},{title:"SourceVideoFrameRate",dataIndex:"SourceVideoFrameRate",key:"SourceVideoFrameRate",width:160},{title:"SourceVideoWidth",dataIndex:"SourceVideoWidth",key:"SourceVideoWidth",width:160},{title:"SourceVideoHeight",dataIndex:"SourceVideoHeight",key:"SourceVideoHeight",width:160},{title:"Snapshot",dataIndex:"SnapURL",key:"SnapURL",width:160,render:function(t){return Object(r.jsx)("img",{src:e.endpoint+t,width:"80px",height:"80px"})}},{title:"Recording",dataIndex:"Recording",key:"Recording",width:160,render:function(e){return e?"True":"False"}},{title:"Record",key:"action",width:160,render:function(t,n){return console.log("record",n),Object(r.jsx)("div",{children:Object(r.jsx)("a",{onClick:function(){return e.toggleRecord(n)},children:n.Recording?"End":"Start"})})}}]}),Object(r.jsx)("h2",{style:{float:"left"},children:"Record List"}),Object(r.jsx)(y.a,{dataSource:e.records,columns:[{title:"Id",dataIndex:"id",key:"id",width:200},{title:"Name",dataIndex:"name",key:"name",width:160},{title:"updatedAt",dataIndex:"updateAt",key:"updateAt",width:160}]}),Object(r.jsxs)("h2",{style:{float:"left"},children:["Record Daily List (",e.recordsDaily.name,")"]}),Object(r.jsx)(y.a,{dataSource:e.recordsDaily.list,columns:[{title:"Index",dataIndex:"id",key:"id",width:200,render:function(e,t,n){return n+1},align:"center"},{title:"startAt",dataIndex:"startAt",key:"startAt",width:160},{title:"duration",dataIndex:"duration",key:"duration",width:160},{title:"hls",dataIndex:"hls",key:"hls",width:160},{title:"important",dataIndex:"important",key:"important",width:160}]}),Object(r.jsx)("h3",{style:{float:"right"},children:"v.0.0.1"}),Object(r.jsx)("h3",{children:"Streams"}),Object(r.jsx)("h3",{children:e.stream})]})},function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={user:null,users:null,visible:!1,title:"Add user",endpoint:"http://172.16.17.253:10800",serverInfo:[],channels:[],stream:null,records:[],recordsDaily:[]},r}return Object(h.a)(n,[{key:"t",get:function(){return this.props.t}}]),Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getServerInfo();case 2:return e.next=4,this.getChannelsInfo();case 4:return e.next=6,this.getChannelStream(1);case 6:return e.next=8,this.getRecording();case 8:return e.next=10,this.getRecordingByChannelDaily();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getServerInfo",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(this.state.endpoint+"/api/v1/getserverinfo");case 2:t=e.sent,this.setState({serverInfo:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getChannelsInfo",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(this.state.endpoint+"/api/v1/getchannels");case 2:t=e.sent,this.setState({channels:t.data.LiveQing.Body.Channels});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getChannelStream",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(this.state.endpoint+"/api/v1/getchannelstream?channel=1");case 2:n=e.sent,console.log("stream 1",n),this.setState({stream:n.data.LiveQing.Body.URL});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toggleRecord",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("toggle channel",t),e.next=3,b.a.get(this.state.endpoint+"/api/v1/"+t.Recording?"stop":"startrecord?channel="+t.Channel);case 3:n=e.sent,console.log("stream 1",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRecording",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(this.state.endpoint+"/api/v1/record/querydevices");case 2:t=e.sent,console.log("records",t),this.setState({records:t.data.rows});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRecordingByChannel",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(this.state.endpoint+"/api/v1/record/queryflags?id=1");case 2:n=e.sent,console.log("records",n),this.setState({records:n.data.rows});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRecordingByChannelDaily",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(this.state.endpoint+"/api/v1/record/querydaily?id=1&period=20201202");case 2:n=e.sent,console.log("records",n),this.setState({recordsDaily:n.data});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchUsers",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=x.a.times(10,(function(e){return{name:"user"+e,mobile:"mobile"+e,email:"email"+e}})),this.setState({users:t});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=x.a.times(10,(function(e){return{name:"user"+e,mobile:"mobile"+e,email:"email"+e}})),this.setState({users:t?x.a.filter(n,{name:t}):n});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"show",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({visible:!0,user:t,title:t?this.t("editUser"):this.t("addUser")});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"edit",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.cancel();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({visible:!1,user:null});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.b.success("deleted");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsx)(w,{user:this.state.user,users:this.state.users,title:this.state.title,visible:this.state.visible,endpoint:this.state.endpoint,serverInfo:this.state.serverInfo,channels:this.state.channels,stream:this.state.stream,records:this.state.records,recordsDaily:this.state.recordsDaily,cancel:function(){return e.cancel()},show:function(t){return e.show(t)},edit:function(t){return e.edit(t)},search:function(t){return e.search(t)},getServerInfo:function(){return e.getServerInfo()},getChannelsInfo:function(){return e.getChannelsInfo()},toggleRecord:function(t){return e.toggleRecord(t)},getRecording:function(){return e.getRecording()},getRecordingByChanne:function(){return e.getRecordingByChannel()}})}}]),n}(a.Component));var O=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)("body",{children:Object(r.jsx)(k,{})})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,315)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),i(e),s(e)}))};c.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root")),S()}},[[309,1,2]]]);
//# sourceMappingURL=main.01fe1822.chunk.js.map